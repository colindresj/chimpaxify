(function(a){a.fn.chimpaxify=function(b){var e=this;var f=a.extend({url:e.attr("action"),timeOut:3500,delay:4000,speed:"slow",easing:"swing",loader:true,successMessage:"Success. A confirmation email has been sent your way."},b);var c=f.url.replace("/post?","/post-json?").concat("&c=?");var d=a('<div id="chimpaxifyMessage"></div>');e.find("input[type=email]").attr("name","EMAIL");a(e).append(d);e.on("submit",function(h){h.preventDefault();var g=a(this).serialize();a.ajax({contentType:"application/json",dataType:"jsonp",url:c,data:g,timeout:f.timeOut,success:function(j){if(j.result==="success"){a(d).html(f.successMessage);a(d).removeClass("chimpaxifyError").addClass("chimpaxifySuccess").slideDown(f.speed,f.easing)}else{a(d).html(j.msg.replace(/\d -/,""));a(d).removeClass("chimpaxifySuccess").addClass("chimpaxifyError").slideDown(f.speed,f.easing)}d.delay(f.delay).slideUp(f.speed,f.easing);var i=a("#chimpaxifyMessage").length},error:function(){console.log("There seems to be a problem with your Chimpaxify request. Make sure your options are correct.")},beforeSend:function(){if(f.loader){e.addClass("chimpaxifyLoading")}},complete:function(){e.removeClass("chimpaxifyLoading")}})})}})(jQuery);